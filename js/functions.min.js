"use strict";function imageSelect(e){var t=640,a=480,s=new Image;s.src=URL.createObjectURL(e.target.files[0]),s.onload=function(){var e=calculateAspectRatioFit(s.width,s.height,t,a),o=document.createElement("canvas");o.width=e.width,o.height=e.height;var l=o.getContext("2d");l.drawImage(s,0,0,e.width,e.height),$("img[name='thumb']").attr("src",o.toDataURL("image/jpeg"))}}function calculateAspectRatioFit(e,t,a,s){var o=Math.min(a/e,s/t);return{width:e*o,height:t*o}}function uploadAjax(){$.upload({progress:function(e){e.length_computable?($("#divProgress").html("<p>Uploaded: "+$.bytes2humanReadable(e.bytes_loaded)+"<br/>Total: "+$.bytes2humanReadable(e.bytes_total)+"<br/>Remaining: "+$.bytes2humanReadable(e.bytes_remaining)+"<br/>Speed: "+$.bytes2humanReadable(e.bytes_per_second)+"/s<br/>Elapsed seconds: "+e.seconds_elapsed+"<br/>Remaining seconds: "+e.seconds_remaining+"<br/></p>"),$("progress").attr({value:e.bytes_loaded,max:e.bytes_total})):$.spawnAlert({body:"No progress support,<br/>file upload still happening.",color:"danger"})},success:function(){$.spawnAlert({title:"Upload OK",body:"File uploaded successfully",color:"success"})},complete:function(){$("#divProgress").text("Waiting..."),$("progress").attr({value:"",max:""}),$("#formUpload").get(0).reset(),$(".custom-file-label").text("Choose file...")}})}